import{_ as s,o as a,c as n,X as l}from"./chunks/framework.6909765d.js";const F=JSON.parse('{"title":"文件管理","description":"","frontmatter":{},"headers":[],"relativePath":"platform/server/starter/文件管理.md","filePath":"platform/server/starter/文件管理.md"}'),o={name:"platform/server/starter/文件管理.md"},e=l(`<h1 id="文件管理" tabindex="-1">文件管理 <a class="header-anchor" href="#文件管理">¶</a></h1><div class="warning custom-block"><p class="custom-block-title">注意</p><p>如果在配置文件、系统参数都配置的文件服务地址，系统中的读取顺序 系统参数 &gt; 配置文件 &gt; 默认配置(<a href="http://127.0.0.1:9999" target="_blank" rel="noreferrer">http://127.0.0.1:9999</a>)</p></div><h2 id="功能" tabindex="-1">功能 <a class="header-anchor" href="#功能">¶</a></h2><ul><li>[x] 数据库存储</li><li>[x] 服务器本地文件存储</li><li>[x] MongoDB存储</li><li>[x] Minio</li><li>[ ] 阿里云OSS</li><li>[ ] 腾讯COS</li></ul><h2 id="使用" tabindex="-1">使用 <a class="header-anchor" href="#使用">¶</a></h2><blockquote><p>见 <code>FileUploadService</code>、<code>UploadService</code></p></blockquote><h3 id="数据库存储" tabindex="-1">数据库存储 <a class="header-anchor" href="#数据库存储">¶</a></h3><p>将文件上传到数据库中，适合小型应用，不需要额外部署文件存储，尤其适合使用<code>Docker</code>进行部署测试的场景。</p><h3 id="本地存储" tabindex="-1">本地存储 <a class="header-anchor" href="#本地存储">¶</a></h3><p>将文件上传到应用所在服务器上，需要配置存储路径，默认为<code>/data/file/</code>，适合传统应用部署方式。</p><h3 id="mongo存储" tabindex="-1">Mongo存储 <a class="header-anchor" href="#mongo存储">¶</a></h3><p>将上传的文件存储到<code>MongoDB</code>中，基于<code>GridFsTemplate</code>进行开发，需要配置<code>bucket</code>存储桶参数</p><h3 id="minio存储" tabindex="-1">minio存储 <a class="header-anchor" href="#minio存储">¶</a></h3><p>将文件上传并存储到<code>Minio</code>中，需要配置<code>bucket</code>存储桶参数</p><h3 id="阿里云oss存储" tabindex="-1">阿里云oss存储 <a class="header-anchor" href="#阿里云oss存储">¶</a></h3><blockquote><p>待补充</p></blockquote><h3 id="配置" tabindex="-1">配置 <a class="header-anchor" href="#配置">¶</a></h3><hr><p><strong>配置文件</strong></p><div class="language-yaml"><button title="Copy Code" class="copy"></button><span class="lang">yaml</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;"># 项目配置</span></span>
<span class="line"><span style="color:#F07178;">bootx.file-upload</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;"># 文件服务器地址</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">server-url</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">http://127.0.0.1:9999</span></span>
<span class="line"><span style="color:#89DDFF;">  </span><span style="color:#676E95;font-style:italic;"># 文件存储方式</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">upload-type</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">LOCAL</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">mongo</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;"># 存储桶</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">bucket</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">fs</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">local</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;"># 本地存储路径</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">local-path</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">/data/file</span></span>
<span class="line"><span style="color:#A6ACCD;">  </span><span style="color:#F07178;">minio</span><span style="color:#89DDFF;">:</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;"># 地址</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">endpoint</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">http://127.0.0.1:9000</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;"># 账号</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">access-key</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">root</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;"># 密码</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">access-secret</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">password</span></span>
<span class="line"><span style="color:#89DDFF;">    </span><span style="color:#676E95;font-style:italic;"># 存储桶 需要至少三位</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#F07178;">bucket</span><span style="color:#89DDFF;">:</span><span style="color:#A6ACCD;"> </span><span style="color:#C3E88D;">bootx</span></span></code></pre></div>`,20),p=[e];function t(c,r,i,y,d,D){return a(),n("div",null,p)}const C=s(o,[["render",t]]);export{F as __pageData,C as default};
