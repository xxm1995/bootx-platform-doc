import{_ as s,o as a,c as n,X as l}from"./chunks/framework.6909765d.js";const p="/assets/3.cf7be219.png",d=JSON.parse('{"title":"参数配置","description":"","frontmatter":{},"headers":[],"relativePath":"platform/server/service/baseapi/参数配置.md","filePath":"platform/server/service/baseapi/参数配置.md"}'),o={name:"platform/server/service/baseapi/参数配置.md"},e=l('<h1 id="参数配置" tabindex="-1">参数配置 <a class="header-anchor" href="#参数配置">¶</a></h1><p>主要用在存储一些程序运行时配置，相当于一个袖珍版的配置中心，包括系统参数和用户参数，例如文件服务器地址、WebSocket连接地址等。 其中有些参数为系统内置参数，无法进行删除，只能对部署属性进行修改。</p><h2 id="功能截图" tabindex="-1">功能截图 <a class="header-anchor" href="#功能截图">¶</a></h2><p><img src="'+p+`" alt="img.png"></p><h2 id="使用说明-后端" tabindex="-1">使用说明(后端) <a class="header-anchor" href="#使用说明-后端">¶</a></h2><p>在系统中需要进行使用参数配置时，可以引入<code>cn.bootx.platform.common.core.function.ParamService</code>接口服务类， 用其中的<code>getValue</code>方法获取参数配置，如果参数未启用, 返回<code>null</code>。</p><div class="language-java"><button title="Copy Code" class="copy"></button><span class="lang">java</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">Service</span></span>
<span class="line"><span style="color:#89DDFF;">@</span><span style="color:#C792EA;">RequiredArgsConstructor</span></span>
<span class="line"><span style="color:#C792EA;">public</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">class</span><span style="color:#A6ACCD;"> </span><span style="color:#FFCB6B;">FileUploadService</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">private</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">final</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">ParamService</span><span style="color:#A6ACCD;"> paramService</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">   </span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">    /**</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">     * 服务地址</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">     */</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#C792EA;">private</span><span style="color:#A6ACCD;"> </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">getServerUrl</span><span style="color:#89DDFF;">()</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#C792EA;">String</span><span style="color:#A6ACCD;"> serverUrl </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> paramService</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getValue</span><span style="color:#89DDFF;">(</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">FileServerUrl</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">);</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">StrUtil</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">isBlank</span><span style="color:#89DDFF;">(</span><span style="color:#A6ACCD;">serverUrl</span><span style="color:#89DDFF;">))</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#A6ACCD;">            serverUrl </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> fileUploadProperties</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getServerUrl</span><span style="color:#89DDFF;">();</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#A6ACCD;">        </span><span style="color:#89DDFF;font-style:italic;">return</span><span style="color:#A6ACCD;"> serverUrl</span><span style="color:#89DDFF;">;</span></span>
<span class="line"><span style="color:#A6ACCD;">    </span><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">}</span></span></code></pre></div><h2 id="使用说明-前端" tabindex="-1">使用说明(前端) <a class="header-anchor" href="#使用说明-前端">¶</a></h2><blockquote><p>通过导入对应的请求接口，就可以快速获取到锁对应的配置。</p></blockquote><div class="language-typescript"><button title="Copy Code" class="copy"></button><span class="lang">typescript</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#A6ACCD;">findByParamKey</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#A6ACCD;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">/@/api/common/Parameter</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#676E95;font-style:italic;">// 获取商户和应用编码</span></span>
<span class="line"><span style="color:#A6ACCD;">mchCode </span><span style="color:#89DDFF;">=</span><span style="color:#A6ACCD;"> (</span><span style="color:#89DDFF;font-style:italic;">await</span><span style="color:#A6ACCD;"> </span><span style="color:#82AAFF;">findByParamKey</span><span style="color:#A6ACCD;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">CashierMchCode</span><span style="color:#89DDFF;">&#39;</span><span style="color:#A6ACCD;">))</span><span style="color:#89DDFF;">.</span><span style="color:#A6ACCD;">data</span></span></code></pre></div>`,10),t=[e];function r(c,y,D,i,A,C){return a(),n("div",null,t)}const h=s(o,[["render",r]]);export{d as __pageData,h as default};
