# 项目部署
## 后端部署
### 项目构建
首先在项目中执行`mvn clean install -Dmaven.javadoc.skip=true`命令进行构建，`-Dmaven.javadoc.skip=true`是跳过DOC文档相关的构造，
可以加快构建的速度。构建执行完成后，到项目下`bootx-start`模块下的`target`目录中找到`bootx-start.jar`文件，这个文件就是我们所需要的可执行Jar包
### jar包方式部署
1. 在主机中安装jdk
2. 将构建出的Jar上传到主机上，然后执行 `java -jar bootx-start.jar`
### docker部署
> 默认项目中已经提供已经编写好的`Dockerfile`，可以直接根据这个配置文件进行构建Docker镜像，推荐启动时使用`Docker-Compose`，方便进行进行管理，

**启动命令**
```shell
docker run -p 9999:9999 bootx-start
```
**Dockerfile文件**
```dockerfile
# java8基础镜像
FROM registry.cn-beijing.aliyuncs.com/xxm1995/java8

# 作者信息
MAINTAINER bootx

# 时区设置
ENV TZ=Asia/Shanghai
RUN ln -sf /usr/share/zoneinfo/$TZ /etc/localtime && echo $TZ > /etc/timezone

# 启动命令
ENV JAVA_COMM="-Djava.security.egd=file:/dev/./urandom -Dfile.encoding=UTF-8"
# 启动选项配置
ENV JAVA_OPTS=""
# Agent配置
ENV JAVA_AGENT=""
# 参数配置
ENV JAVA_ARGS=""

# 工作目录
WORKDIR /

# 端口暴露
EXPOSE 9999

# 添加执行jar包
ADD bootx-start/target/bootx-start.jar bootx-start.jar

# 执行启动命令
CMD java -jar $JAVA_OPTS $JAVA_AGENT $JAVA_COMM bootx-start.jar $JAVA_ARGS
```
### docker-compose部署
Docker-Compose是一个轻量级的单机Docker容器编排工具

### kubernetes部署



## 前端部署
### 项目构建
Node版本需要使用16+，包管理工具使用`pnpm`，构建完后的制品在`dist`文件夹下，
```shell
# 安装依赖
pnpm install

# 执行打包命令
pnpm run build
```

### 使用Nginx部署

### 嵌入到Jar中
::: tip
可以利用Java容器可以处理，嵌入到后端Jar包中，在启动后端时同时一块将前端启动
:::
#### 修改路由模式
将前端的路由模式配置为`hash`模式，不可以使用`history`模式。在前端 `src/router/index.ts`文件中进行更改
```typescript
import { createRouter, createWebHashHistory, createWebHistory } from 'vue-router';

createRouter({
  // 将web历史模式替换为下面的
  // history: createWebHashHistory(),
  // 使用这个
  history: createWebHistory(),
});
```

#### 添加带后端项目中

### 阿里云效自动化部署
