# 自动建表
::: tip
基于[mybatis-enhance-actable](https://gitee.com/sunchenbin/mybatis-enhance)进行修改实现
:::
## 注解
### @Table
> 表注释，标注在要进行建表的实体类上

| 属性            | 类型           | 默认值     | 描述                                                   |
|---------------|--------------|---------|------------------------------------------------------|
| name          | String       | ""      | 表名，未配置时会读取`TableName`中的配置                            |
| value         | String       | ""      | 表名，未配置时会读取`TableName`中的配置                            |
| comment       | String       | ""      | 表注释                                                  |
| charset       | MySqlCharset | UTF8MB4 | 表字符集                                                 |
| engine        | MySqlEngine  | InnoDB  | 表引擎                                                  |
| isSimple      | boolean      | true    | 是否开启`simple`模式配置，开启后字段不写注解`@Column`也可以采用默认的驼峰转换法创建字段 |
| excludeFields | String[]     | {}      | 需要排除的属性名，排除掉的属性不参与建表, 静态字段默认会被排除                     |

### @Column
> 字段注解，`@Table`开启`simple`模式后，`@Column`不标注也会根据规则进行转换

| 属性              | 类型             | 默认值       | 描述                                         |
|-----------------|----------------|-----------|--------------------------------------------|
| name            | String         | ""        | 行名，未配置时会读取`Column`中的配置                     |
| value           | String         | ""        | 行名，未配置时会读取`Column`中的配置                     |
| order           | int            | 0         | 数据库字段排序，数字小的在前面，大的在后面                      |
| type            | MySqlFieldType | DEFAULT   | 不填默认使用属性的数据类型进行转换，转换失败的字段不会添加              |
| length          | int            | 255       | 字段长度，默认是255                                |
| decimalLength   | int            | 0         | 小数点长度，默认是0                                 |
| isNull          | boolean        | true      | 是否为可以为null，`true`是可以，`false`是不可以，默认为`true` |
| isKey           | boolean        | false     | 是否是主键，默认`false`                            |
| isAutoIncrement | boolean        | false     | 是否自动递增，默认`false`，只有主键才能使用                  |
| defaultValue    | String         | "DEFAULT" | 默认值，默认为null                                |
| comment         | String         | ""        | 数据表字段备注                                    |
| ignore          | boolean        | false     | 是否排除该字段, 默认不排除                             |
### @EnableTimeSuffix
> 表名时间后缀

| 属性      | 类型     | 默认值      | 描述       |
|---------|--------|----------|----------|
| value   | boolean | true     | 是否开启时间后缀 |
| pattern | String | "yyyyMM" | 时间后缀格式   |
### @IgnoreUpdate
> 忽略字段更新

| 属性    | 类型      | 默认值  | 描述             |
|-------|---------|------|----------------|
| value | boolean | true | 是否忽略对当前字段的更新操作 |
### @Index
> 设置字段索引

### @Unique
> 设置字段唯一约束

### @IsNativeDefValue
> 开启默认值原生模式

## 配置
| 参数            | 类型           | 默认值          | 描述                  |
|---------------|--------------|--------------|---------------------|
| database-type | DatabaseType | MYSQL        | 数据库类型，当前只有`MYSQL`有效 |
| update-type   | UpdateType   | NONE         | 更新模式                |
| scan-package  | String       | ""           | 扫描包路径, 可以用 ,和 ; 分隔  |
| prefix-index  | String       | actable_idx_ | 指定生成索引前缀            |
| prefix-unique | String       | actable_uni_ | 指定生成唯一约束前缀          |

样例：
```yaml
bootx:
  common:    
    # 表结构自动维护
    actable:
      # 数据库类型
      database-type: mysql
      # 更新类型
      update-type: create
      # 扫描包路径, 可以用 ,和 ; 分隔
      scan-package: cn.bootx.**.entity
      # 指定生成索引前缀
      prefix-index: actable_idx_
      # 指定生成唯一约束前缀
      prefix-unique: actable_uni_
```
